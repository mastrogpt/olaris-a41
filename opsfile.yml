version: 3

tasks:
  
  # scrvimi qualcosa qui ->hello openserverless <-
  cli:
    desc: cli
    env:
      IPYTHONDIR:
        sh: realpath .
    dir: cli
    cmds:
      - |
        set -a
        test -e $OPS_PWD/.env && source $OPS_PWD/.env
        test -e $OPS_PWD/tests/.env && source $OPS_PWD/tests/.env
        uv run ipython

  lesson:
    desc: lesson management
    silent: true
    dir: lesson
    cmds:
    - |
      if test -n "{{._name_}}"
      then
        if {{.__solution}}
        then uv run -- python lesson.py solution {{._name_}}
        else uv run -- python lesson.py lesson {{._name_}}
        fi
      else
        uv run -- python lesson.py list
      fi



  pg:
    desc: postgres 
    
  etc:
    desc: miscellaneous 

  mcp:
    desc: mcp

  imp:
    desc: imp
